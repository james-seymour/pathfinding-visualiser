(this["webpackJsonppathfinding-visualiser"]=this["webpackJsonppathfinding-visualiser"]||[]).push([[0],{13:function(e,t,n){},15:function(e,t,n){},16:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var s=n(1),a=n.n(s),i=n(8),o=n.n(i),r=n(2),c=n(3),d=n(4),l=n(6),u=n(5),h=function(e){e.sort((function(e,t){return e.distance-t.distance}))},N=function(e,t){var n,s=m(e,t),a=Object(r.a)(s);try{for(a.s();!(n=a.n()).done;){var i=n.value;i.distance=e.distance+1,i.previousNode=e}}catch(o){a.e(o)}finally{a.f()}},m=function(e,t){var n=[],s=e.row,a=e.col;return s>0&&n.push(t[s-1][a]),s<t.length-1&&n.push(t[s+1][a]),a>0&&n.push(t[s][a-1]),a<t[0].length-1&&n.push(t[s][a+1]),n.filter((function(e){return!e.isVisited}))},b=function(e){for(var t=[],n=e;null!==n;)t.unshift(n),n=n.previousNode;return t},p=function(e,t,n){var s=[];t.distance=0;for(var a=function(e){var t,n=[],s=Object(r.a)(e);try{for(s.s();!(t=s.n()).done;){var a,i=t.value,o=Object(r.a)(i);try{for(o.s();!(a=o.n()).done;){var c=a.value;n.push(c)}}catch(d){o.e(d)}finally{o.f()}}}catch(d){s.e(d)}finally{s.f()}return n}(e);a.length;){h(a);var i=a.shift();if(!i.isWall){if(i.distance===1/0)return s;if(i.isVisited=!0,s.push(i),i===n)return s;N(i,e)}}};n(13);var f=n(0),O=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(d.a)(n,[{key:"render",value:function(){var e=this;return Object(f.jsx)("div",{id:"node-".concat(this.props.nodeData.row,"-").concat(this.props.nodeData.col),className:"node ".concat(this.props.nodeData.isFinish?"node-finish":this.props.nodeData.isStart?"node-start":""),onMouseDown:function(){return e.props.onMouseDown(e.props.nodeData.row,e.props.nodeData.col)},onMouseEnter:function(){return e.props.onMouseEnter(e.props.nodeData.row,e.props.nodeData.col)},onMouseUp:function(){return e.props.onMouseUp()}})}}]),n}(s.PureComponent),j=(n(15),function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(c.a)(this,n),(e=t.call(this)).createNode=function(t,n){var s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{row:t,col:n,isStart:t===e.state.START_NODE_ROW&&n===e.state.START_NODE_COL,isFinish:t===e.state.END_NODE_ROW&&n===e.state.END_NODE_COL,isWall:s,distance:1/0,distanceToFinishNode:Math.abs(e.state.END_NODE_ROW-t)+Math.abs(e.state.END_NODE_COL-n),isVisited:!1,previousNode:null}},e.createGridData=function(){for(var t=[],n=0;n<e.state.NUM_ROWS;n++){for(var s=[],a=0;a<e.state.NUM_COLS;a++)s.push(e.createNode(n,a));t.push(s)}return t},e.getStartNode=function(t){return t[e.state.START_NODE_ROW][e.state.START_NODE_COL]},e.getEndNode=function(t){return t[e.state.END_NODE_ROW][e.state.END_NODE_COL]},e.isStartNode=function(t,n){return t===e.state.START_NODE_ROW&&n===e.state.START_NODE_COL},e.isEndNode=function(t,n){return t===e.state.END_NODE_ROW&&n===e.state.END_NODE_COL},e.isStartOrEndNode=function(t,n){return e.isStartNode(t,n)||e.isEndNode(t,n)},e.syncHTMLwithGridData=function(){for(var t=[],n=0;n<e.state.NUM_ROWS;n++){for(var s=[],a=0;a<e.state.NUM_COLS;a++)"node node-wall"===e.getNodeClassName(n,a)?s.push(e.createNode(n,a,!0)):s.push(e.createNode(n,a));t.push(s)}return t},e.resetElementInGrid=function(t){for(var n=0;n<e.state.NUM_ROWS;n++)for(var s=0;s<e.state.NUM_COLS;s++){var a=e.getNodeClassName(n,s);a!=="node ".concat(t)&&"node node-start"!==a&&"node node-finish"!==a&&e.updateNodeClassName(n,s,"")}},e.generateRandomMaze=function(t){if(!e.state.isRunning){e.clearWalls();var n,s=function(e,t,n){for(var s=[],a=0;a<e;a++)for(var i=0;i<t;i++)if(Math.random()<n){var o={row:a,col:i};s.push(o)}return s}(e.state.NUM_ROWS,e.state.NUM_COLS,t),a=Object(r.a)(s);try{for(a.s();!(n=a.n()).done;){var i=n.value;e.isStartOrEndNode(i.row,i.col)||e.updateNodeClassName(i.row,i.col,"node-wall")}}catch(o){a.e(o)}finally{a.f()}}},e.updateAnimationSpeed=function(t,n){e.state.isRunning||e.setState({animationSpeed:n,animationSpeedLabel:t})},e.toggleVisitedNodesVisibility=function(){e.setState({nodesVisible:!e.state.nodesVisible})};var s=Math.floor((window.screen.height-370)/25),a=Math.floor((window.screen.width-180)/25),i=[Math.floor(s/4)-1,Math.floor(a/4)-1],o=[Math.floor(3*s/4),Math.floor(3*a/4)];return e.state={gridData:[],START_NODE_ROW:i[0],START_NODE_COL:i[1],END_NODE_ROW:o[0],END_NODE_COL:o[1],userPaintingWalls:!1,userMovingStartNode:!1,userMovingEndNode:!1,NUM_ROWS:s,NUM_COLS:a,isRunning:!1,isStartNode:!1,isFinishNode:!1,isWallNode:!1,currentRow:0,currentCol:0,selectedAlgorithm:null,animationSpeed:5,animationSpeedLabel:"Fast",nodesVisible:!1},e}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=this.createGridData();this.setState({gridData:e})}},{key:"getNodeClassName",value:function(e,t){return document.getElementById("node-".concat(e,"-").concat(t)).className}},{key:"updateNodeClassName",value:function(e,t,n){document.getElementById("node-".concat(e,"-").concat(t)).className="node ".concat(n)}},{key:"handleMouseDown",value:function(e,t){this.state.isRunning||(this.isStartNode(e,t)?this.setState({userMovingStartNode:!0}):this.isEndNode(e,t)?this.setState({userMovingEndNode:!0}):(this.setState({userPaintingWalls:!0}),this.updateNodeClassName(e,t,"node-wall")))}},{key:"handleMouseEnter",value:function(e,t){this.state.isRunning||this.isStartOrEndNode(e,t)||(this.state.userMovingStartNode?(this.updateNodeClassName(this.state.START_NODE_ROW,this.state.START_NODE_COL,""),this.updateNodeClassName(e,t,"node-start"),this.setState({START_NODE_ROW:e,START_NODE_COL:t})):this.state.userMovingEndNode?(this.updateNodeClassName(this.state.END_NODE_ROW,this.state.END_NODE_COL,""),this.updateNodeClassName(e,t,"node-finish"),this.setState({END_NODE_ROW:e,END_NODE_COL:t})):this.state.userPaintingWalls&&this.updateNodeClassName(e,t,"node-wall"))}},{key:"handleMouseUp",value:function(){this.state.isRunning||(this.setState({userMovingStartNode:!1,userMovingEndNode:!1,userPaintingWalls:!1}),this.syncHTMLwithGridData(this.state.gridData))}},{key:"toggleIsRunning",value:function(){this.setState({isRunning:!this.state.isRunning})}},{key:"parseAlgorithmChoice",value:function(){if(!this.state.isRunning){this.setState({isRunning:!0}),this.resetElementInGrid("node-wall");var e=this.syncHTMLwithGridData(),t=this.getStartNode(e),n=this.getEndNode(e);switch(this.state.selectedAlgorithm){case"Dijkstra's Algorithm":var s=p(e,t,n),a=b(n);this.animateAlgorithm(s,a);break;case"A* Search":var i=function(e,t,n){var s=[],a=[];for(a.push(t);a.length;){var i=a.pop();if(!i.isWall&&(i.isStart||!i.isVisited)){i.isVisited=!0,s.push(i);var o=i.col,r=i.row,c=void 0;r>0&&((c=e[r-1][o]).isVisited||(c.previousNode=i,a.push(c))),r<e.length-1&&((c=e[r+1][o]).isVisited||(c.previousNode=i,a.push(c))),o>0&&((c=e[r][o-1]).isVisited||(c.previousNode=i,a.push(c))),o<e[0].length-1&&((c=e[r][o+1]).isVisited||(c.previousNode=i,a.push(c)))}if(i===n)return s}}(e,t,n),o=b(n);this.animateAlgorithm(i,o);break;default:this.setState({isRunning:!1})}}}},{key:"animateAlgorithm",value:function(e,t){for(var n=this,s=function(s){s===e.length-1?setTimeout((function(){n.animateShortestPath(t)}),n.state.animationSpeed*s):setTimeout((function(){var t=e[s];n.state.nodesVisible?n.updateNodeClassName(t.row,t.col,"node node-visited-visible"):n.updateNodeClassName(t.row,t.col,"node node-visited")}),n.state.animationSpeed*s)},a=1;a<e.length;a++)s(a);var i=this.state.animationSpeed*(e.length+1)+50*(t.length+1);setTimeout((function(){n.setState({isRunning:!1})}),i),this.setState({gridData:this.syncHTMLwithGridData()})}},{key:"animateShortestPath",value:function(e){for(var t=this,n=function(n){setTimeout((function(){var t=e[n];document.getElementById("node-".concat(t.row,"-").concat(t.col)).className="node node-shortest-path"}),6*t.state.animationSpeed*n)},s=1;s<e.length-1;s++)n(s)}},{key:"clearWalls",value:function(){this.state.isRunning||this.resetElementInGrid("node-visited")}},{key:"clearAlgorithmSteps",value:function(){this.state.isRunning||this.resetElementInGrid("node-wall")}},{key:"clearEntireCanvas",value:function(){this.state.isRunning||(this.setState({gridData:this.createGridData()}),this.resetElementInGrid(""))}},{key:"renderUserInterface",value:function(){var e=this;return Object(f.jsxs)("div",{className:"userinterface",children:[Object(f.jsx)("a",{id:"homepageRefresh",className:"navbar",href:"",children:"Pathfinding Visualiser"}),Object(f.jsxs)("div",{className:"dropdown",children:[Object(f.jsx)("button",{className:"button dropbtn",children:"Run an Algorithm!"}),Object(f.jsxs)("div",{className:"dropdown-content",children:[Object(f.jsx)("button",{id:"Dijkstra",className:"dropdown-content-button algorithm-button",onClick:function(){return e.setState({selectedAlgorithm:"Dijkstra's Algorithm"})},children:"Djikstra's Algorithm"}),Object(f.jsx)("button",{id:"AStar",className:"dropdown-content-button algorithm-button",onClick:function(){return e.setState({selectedAlgorithm:"A* Search"})},children:"A* Search"}),Object(f.jsx)("button",{id:"Greedy",className:"dropdown-content-button algorithm-button",onClick:function(){return e.setState({selectedAlgorithm:"Greedy Best-First Search"})},children:"Run Greedy Best-First Search"}),Object(f.jsx)("button",{id:"Swarm",className:"dropdown-content-button algorithm-button",onClick:function(){return e.setState({selectedAlgorithm:"Swarm Search"})},children:"Run Swarm Algorithm"})]})]}),Object(f.jsxs)("div",{className:"dropdown",children:[Object(f.jsx)("button",{className:"button dropbtn",children:"Generate A Maze!"}),Object(f.jsxs)("div",{className:"dropdown-content",children:[Object(f.jsx)("button",{className:"dropdown-content-button",onClick:function(){e.generateRandomMaze(.1)},children:"Sparse Random: (~10% Coverage)"}),Object(f.jsx)("button",{className:"dropdown-content-button",onClick:function(){e.generateRandomMaze(.2)},children:"Normal Random: (~20% Coverage)"}),Object(f.jsx)("button",{className:"dropdown-content-button",onClick:function(){e.generateRandomMaze(.35)},children:"Dense Random: (~35% Coverage)"})]})]}),Object(f.jsxs)("div",{className:"dropdown",children:[Object(f.jsxs)("button",{className:"button dropbtn",children:["Speed: ",this.state.animationSpeedLabel]}),Object(f.jsxs)("div",{className:"dropdown-content",children:[Object(f.jsx)("button",{className:"dropdown-content-button",onClick:function(){e.updateAnimationSpeed("Slow",20)},children:"Slow"}),Object(f.jsx)("button",{className:"dropdown-content-button",onClick:function(){e.updateAnimationSpeed("Medium",10)},children:"Medium"}),Object(f.jsx)("button",{className:"dropdown-content-button",onClick:function(){e.updateAnimationSpeed("Fast",5)},children:"Fast"}),Object(f.jsx)("button",{className:"dropdown-content-button",onClick:function(){e.updateAnimationSpeed("Insane",1)},children:"Insane"})]})]}),Object(f.jsx)("button",{id:"clear-algorithm-steps",className:"button clear-button",onClick:function(){return e.clearAlgorithmSteps()},children:"Clear Visited Nodes!"}),Object(f.jsx)("button",{id:"clear-board",className:"button clear-button",onClick:function(){return e.clearEntireCanvas()},children:"Clear the Entire Board!"}),Object(f.jsx)("div",{className:"view-visited-container",onMouseDown:function(){return e.toggleVisitedNodesVisibility()},children:Object(f.jsxs)("label",{className:"view-visited",children:[Object(f.jsx)("input",{id:"toggle-view-visited",type:"checkbox"}),Object(f.jsx)("span",{className:"checkmark"}),"View Visited Nodes?"]})})]})}},{key:"renderStartButton",value:function(){var e=this;return Object(f.jsx)("div",{className:"start",children:Object(f.jsx)("button",{className:"visualise-button",onClick:function(){e.parseAlgorithmChoice()},children:this.state.selectedAlgorithm?"Run ".concat(this.state.selectedAlgorithm,"!"):"Choose a search method from the Run an Algorithm menu!"})})}},{key:"renderGrid",value:function(){var e=this,t=this.state.gridData;return Object(f.jsx)("div",{className:"grid",children:t.map((function(t,n){return Object(f.jsx)("div",{className:"row row-".concat(n),children:t.map((function(t,n){return Object(f.jsx)(O,{nodeData:t,onMouseDown:function(t,n){e.handleMouseDown(t,n)},onMouseEnter:function(t,n){e.handleMouseEnter(t,n)},onMouseUp:function(){e.handleMouseUp()}},n)}))},n)}))})}},{key:"renderLegend",value:function(){return Object(f.jsx)("div",{className:"legend-container",children:Object(f.jsxs)("div",{className:"legend",children:[Object(f.jsx)("div",{className:"legend-text",children:Object(f.jsxs)("label",{className:"node-text",children:["Start Node:",Object(f.jsx)("div",{className:"node-start-example"})]})}),Object(f.jsx)("div",{className:"legend-text",children:Object(f.jsxs)("label",{className:"node-text",children:["End Node:",Object(f.jsx)("div",{className:"node-finish-example"})]})}),Object(f.jsx)("div",{className:"legend-text",children:Object(f.jsxs)("label",{className:"node-text",children:["Shortest Path:",Object(f.jsx)("div",{className:"node-shortest-example"})]})}),Object(f.jsx)("div",{className:"legend-text",children:Object(f.jsxs)("label",{className:"node-text",children:["Wall Node:",Object(f.jsx)("div",{className:"node-wall-example"})]})}),Object(f.jsx)("div",{className:"legend-text",children:Object(f.jsxs)("label",{className:"node-text",children:["Visited Node:",Object(f.jsx)("div",{className:"node-visited-example"})]})})]})})}},{key:"render",value:function(){return Object(f.jsxs)(f.Fragment,{children:[this.renderUserInterface(),this.renderStartButton(),this.renderGrid(),this.renderLegend(),Object(f.jsxs)("div",{className:"footer",children:["Created by James Seymour. The source code for this app and my other projects are on my Github ",Object(f.jsx)("a",{className:"github-link",href:"https://github.com/james-seymour",children:"here"})]})]})}}]),n}(s.Component));n(16);var v=function(){return document.documentElement.style.setProperty("--screen-x",Math.floor((window.screen.width-100)/30)),document.body.style="background-color: rgb(42, 42, 42);",Object(f.jsx)("div",{className:"main",children:Object(f.jsx)(j,{})})};o.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(v,{})}),document.getElementById("root"))}},[[17,1,2]]]);
//# sourceMappingURL=main.fe390893.chunk.js.map